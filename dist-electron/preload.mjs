"use strict";const i=require("electron");i.contextBridge.exposeInMainWorld("api",{invoke:(e,r)=>{if(["video.import","video.clip","video.export","recording.getSources","recording.showSourceDialog","recording.saveFile","recording.getMetadata","recording.convertWebmToMp4","recording.mergeAudioVideo","recording.mergePiP","dialog.showSaveDialog","file.copyFile","ai.extractAudio","ai.whisperTranscription","ai.segmentTranscript","ai.gptShortSuggestions","ai.cleanupTempFiles"].includes(e))return i.ipcRenderer.invoke(e,r);throw new Error(`Invalid IPC channel: ${e}`)},on:(e,r)=>{["ffmpeg.progress"].includes(e)&&i.ipcRenderer.on(e,(t,n)=>r(n))},off:(e,r)=>{["ffmpeg.progress"].includes(e)&&i.ipcRenderer.off(e,r)},desktopCapturer:{getSources:e=>{try{return i.desktopCapturer.getSources(e)}catch(r){throw console.error("desktopCapturer.getSources failed:",r),r}}}});
