{
  // ----- Basic Metadata -----
  appId: "com.clipforge.app",
  productName: "ClipForge",
  copyright: "Â© 2025 ClipForge Project",
  artifactName: "ClipForge-${version}-${os}-${arch}.${ext}",

  // Syncs version automatically from package.json
  // (electron-builder does this automatically if not overridden)
  directories: {
    output: "dist",
    buildResources: "assets"
  },

  // ----- What to Include -----
  files: [
    "dist/**/*",
    "dist-electron/**/*",
    "package.json"
  ],

  extraResources: [
    {
      from: "bin/",
      to: "bin/",
      filter: ["**/*"]
    }
  ],

  // ----- Linux Builds -----
  linux: {
    target: ["AppImage", "deb"],
    category: "Video",
    icon: "assets/icons/png/",
    executableName: "clipforge",
    desktop: {
      Name: "ClipForge",
      Comment: "Simple video trimmer powered by FFmpeg"
    }
  },

  // ----- Windows Builds -----
  win: {
    target: ["nsis", "portable"],
    icon: "assets/icons/icon.ico"
  },

  nsis: {
    oneClick: false,
    allowToChangeInstallationDirectory: true,
    perMachine: false,
    createDesktopShortcut: true,
    shortcutName: "ClipForge",
    artifactName: "ClipForge-${version}-win-${arch}.${ext}"
  },

  // ----- Asar & Resource Handling -----
  asar: true,
  asarUnpack: ["bin/**"],

  // Preserve ffmpeg permissions for Linux
  afterPack: "scripts/afterPack.cjs",

  // Disable auto publishing (manual releases)
  publish: null
}
